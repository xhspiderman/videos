<!-- discussion.html -->
{% extends "base_activity.html" %}
{% load staticfiles %}

{% block contentwrap %}
	<!-- {{ block.super }} -->
	<h1 class="page-header">{{ video.title }}</h1>
	
    <!-- {{ video.video_upload.url }} -->
    <div class='row'>
<!--         <div class='col-xs-2'>
            <div class='row text-center'  style="float: none; vertical-align: middle;"><i class="fa fa-angle-left fa-5x"></i> </div>
        </div> -->
    	<div class='col-xs-12'>
            <div class='col-xs-2 children text-center pointerDiv' style='opacity:0.1;'>
                {% if previous %}<i class="fa fa-angle-left fa-5x previousTrigger" style='cursor:pointer;'></i>{% endif %}
                    <!-- <li><a href={% if previous %}"{% url 'video' previous.id %}"{% endif %}>Prev</a></li> -->
            </div>
            <div class='col-xs-8'><div class='row' id='myElement'></div></div>
            <div class='col-xs-2 children text-center pointerDiv' style='opacity:0.1;'> 
                {% if next %} <i class="fa fa-angle-right fa-5x nextTrigger" style='cursor:pointer;'></i>{% endif %}
                    <!-- <li><a href={% if next %}"{% url 'video' next.id %}"{% endif %}>Next</a></li> -->
            </div>
		</div>
	</div>

	<script language="JavaScript">

    jwplayer("myElement").setup({
        file: "{{ video.video_upload.url }}",
        // image: "{% static "img/white.png" %}",
        autostart: true,
        width: "100%",
        aspectratio: "16:9"
    });
    var initialPause = 1
    jwplayer('myElement').onTime(function(time){
        if(initialPause==1){
            jwplayer('myElement').pause()
            initialPause =0
        }
    })
    // var initialPause = 1
    // jwplayer('myElement').onPlay(function(){
    //    if(initialPause==1){
    //         jwplayer('myElement').pause()
    //         initialPause=0
    //    }
    // })
	</script>
    
    <div class='row'>
	<div class='col-xs-8 col-xs-offset-2'>
		<p class="sub-header"><span class="text-muted">{{ video.instructions }}</span></p>
		{% for post in video.posts.all %}
			<p>{{ post.creator }}</p>
			<p>{{ post.created }}</p>
			<p>{{ post.text }} </p>
		{% empty %}
			<p>There are no posts to display. :(</p>
		{% endfor %}
	</div>
	</div>

{% endblock contentwrap %}

{% block stylesheets %} 
<script src="http://jwpsrv.com/library/RJueXGxbEeOB1SIACi0I_Q.js"></script>
 <script src="{% static "js/video.js" %}"></script>
<link href="{% static "css/video.css" %}" rel="stylesheet">
{% endblock stylesheets%}